!function(t){"use strict";var e=t.ObjectController.extend({}),i=t.Component.extend({tagName:"div",captionTop:"",captionTopSize:28,captionTopColor:"#299bcc",captionBottom:"",captionBottomSize:22,captionBottomColor:"#FFFFFF",imgMaxWidth:536,img:"",didInsertElement:function(){var t=this,e=new Image;this.get("img")&&(e.onload=function(){var i=e.width>t.get("imgMaxWidth")?t.get("imgMaxWidth")/e.width:1,o=new Kinetic.Stage({container:t.get("element").id,width:e.width*i+44,height:e.height*i+44}),n=new Kinetic.Layer,a=new Kinetic.Image({x:22,y:22,width:e.width,height:e.height,scaleX:i,scaleY:i,stroke:"#eee",strokeWidth:4,strokeScaleEnabled:!1,image:e}),g=new Kinetic.Text({width:o.getWidth()-20,x:10,y:o.getHeight()-12,text:t.get("captionTop")||"",fontFamily:"bebas_neueregular, Ubuntu",fontSize:t.get("captionTopSize"),fill:t.get("captionTopColor"),align:"center",wrap:"word"}),c=new Kinetic.Text({width:o.getWidth()-20,x:10,y:g.getPosition().y+g.getHeight()+8,text:t.get("captionBottom")||"",fontFamily:"bebas_neueregular, Ubuntu",fontSize:t.get("captionBottomSize"),fill:t.get("captionBottomColor"),align:"center",wrap:"word"});o.setHeight(g.getPosition().y+g.getHeight()+8+(c.getHeight()+16));var r=new Kinetic.Rect({x:0,y:0,width:o.getWidth(),height:o.getHeight(),fill:"#000000"});n.add(r),n.add(a),n.add(g),n.add(c),o.add(n)},e.src=this.get("img"))}.observes("captionTop","captionTopSize","captionTopColor","captionBottom","captionBottomSize","captionBottomColor","imgMaxWidth")});t.Application.initializer({name:"ctg-frame",initialize:function(t,o){t.register("component:ctg-frame",i),t.register("controller:ctgFrame",e),o.inject("component:ctg-frame","ctgFrame","controller:ctgFrame")}})}(window.Ember);